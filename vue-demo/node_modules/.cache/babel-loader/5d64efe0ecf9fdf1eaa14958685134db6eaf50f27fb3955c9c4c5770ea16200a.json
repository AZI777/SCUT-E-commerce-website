{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"poster\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"login_title\"\n}, \"系统登录\", -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"body\", _hoisted_1, [_createVNode(_component_el_form, {\n    class: \"login-container\",\n    \"label-position\": \"left\",\n    \"label-width\": \"0px\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        modelValue: _ctx.loginForm.username,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.loginForm.username = $event),\n        \"auto-complete\": \"off\",\n        placeholder: \"账号\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"password\",\n        modelValue: _ctx.loginForm.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.loginForm.password = $event),\n        \"auto-complete\": \"off\",\n        placeholder: \"密码\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        style: {\n          \"width\": \"100%\",\n          \"background\": \"#505458\",\n          \"border\": \"none\"\n        },\n        onClick: _ctx.login\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"登录\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["id","_createElementVNode","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_form","_hoisted_2","_component_el_form_item","_component_el_input","type","_ctx","loginForm","username","$event","placeholder","password","style","_component_el_button","onClick","login"],"sources":["C:\\Users\\DELL\\Desktop\\网络应用开发课程设计\\vue-demo\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <body id=\"poster\">\r\n  <el-form class=\"login-container\" label-position=\"left\"\r\n           label-width=\"0px\">\r\n    <h3 class=\"login_title\">系统登录</h3>\r\n    <el-form-item>\r\n      <el-input type=\"text\" v-model=\"loginForm.username\"\r\n                auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-input type=\"password\" v-model=\"loginForm.password\"\r\n                auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item style=\"width: 100%\">\r\n      <el-button type=\"primary\" style=\"width: 100%;background: #505458;border: none\" v-on:click=\"login\">登录</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from 'vue';\r\nimport axios from \"axios\";\r\nimport router from \"@/router\";\r\nimport async from \"async\";\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'Login',\r\n  setup() {\r\n    const loginForm = ref({\r\n      username: 'admin',\r\n      password: '123'\r\n    });\r\n\r\n    async login() {\r\n      const store = useStore();\r\n      const router = useRouter();\r\n\r\n      console.log(store.state);\r\n\r\n      try {\r\n        const successResponse = await axios.post('/login', {\r\n          username: this.loginForm.username,\r\n          password: this.loginForm.password\r\n        });\r\n\r\n        if (successResponse.data.code === 200) {\r\n          store.commit('login', this.loginForm);\r\n          const path = router.currentRoute.value.query.redirect;\r\n          router.replace({ path: path === '/' || path === undefined ? '/index' : path });\r\n        }\r\n      } catch (error) {\r\n        // 处理错误\r\n      }\r\n\r\n    };\r\n\r\n    return {\r\n      loginForm,\r\n      login\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.login-container {\r\n  border-radius: 15px;\r\n  background-clip: padding-box;\r\n  margin: 90px auto;\r\n  width: 350px;\r\n  padding: 35px 35px 15px 35px;\r\n  background: #fff;\r\n  border: 1px solid #eaeaea;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n}\r\n\r\n.login_title {\r\n  margin: 0px auto 40px auto;\r\n  text-align: center;\r\n  color: #505458;\r\n}\r\n\r\n#poster {\r\n  background: url(\"../assets/eva.jpg\") no-repeat;\r\n  background-position: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-size: cover;\r\n  position: fixed;\r\n}\r\n\r\nbody {\r\n  margin: 0px;\r\n}\r\n\r\n\r\n</style>\r\n"],"mappings":";;EACQA,EAAE,EAAC;AAAQ;gCAGfC,mBAAA,CAAiC;EAA7BC,KAAK,EAAC;AAAa,GAAC,MAAI;;;;;;uBAH9BC,mBAAA,CAgBO,QAhBPC,UAgBO,GAfPC,YAAA,CAcUC,kBAAA;IAdDJ,KAAK,EAAC,iBAAiB;IAAC,gBAAc,EAAC,MAAM;IAC7C,aAAW,EAAC;;sBACnB,MAAiC,CAAjCK,UAAiC,EACjCF,YAAA,CAGeG,uBAAA;wBAFb,MAC0D,CAD1DH,YAAA,CAC0DI,mBAAA;QADhDC,IAAI,EAAC,MAAM;oBAAUC,IAAA,CAAAC,SAAS,CAACC,QAAQ;mEAAlBF,IAAA,CAAAC,SAAS,CAACC,QAAQ,GAAAC,MAAA;QACvC,eAAa,EAAC,KAAK;QAACC,WAAW,EAAC;;;QAE5CV,YAAA,CAGeG,uBAAA;wBAFb,MAC0D,CAD1DH,YAAA,CAC0DI,mBAAA;QADhDC,IAAI,EAAC,UAAU;oBAAUC,IAAA,CAAAC,SAAS,CAACI,QAAQ;mEAAlBL,IAAA,CAAAC,SAAS,CAACI,QAAQ,GAAAF,MAAA;QAC3C,eAAa,EAAC,KAAK;QAACC,WAAW,EAAC;;;QAE5CV,YAAA,CAEeG,uBAAA;MAFDS,KAAmB,EAAnB;QAAA;MAAA;IAAmB;wBAC/B,MAAgH,CAAhHZ,YAAA,CAAgHa,oBAAA;QAArGR,IAAI,EAAC,SAAS;QAACO,KAAoD,EAApD;UAAA;UAAA;UAAA;QAAA,CAAoD;QAAME,OAAK,EAAER,IAAA,CAAAS;;0BAAO,MAAE,C,iBAAF,IAAE,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}