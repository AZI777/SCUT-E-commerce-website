{"ast":null,"code":"import { ref } from 'vue';\nimport axios from \"axios\";\nimport router from \"@/router\";\nimport store from '../store';\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Login',\n  setup() {\n    const loginForm = ref({\n      username: 'admin',\n      password: 'admin'\n    });\n    const login = () => {\n      console.log(store.state);\n      axios.post('/login', {\n        username: loginForm.value.username,\n        password: loginForm.value.password\n      }).then(successResponse => {\n        if (successResponse.data.code === 200) {\n          store.commit('login', loginForm.value);\n          const path = router.currentRoute.value.query.redirect;\n          router.replace({\n            path: path === '/' || path === undefined ? '/index' : path\n          });\n        } else {\n          alert('账号或密码错误！');\n        }\n      }).catch();\n    };\n    const sign = () => {\n      console.log(store.state);\n      axios.put('/login', {\n        username: loginForm.value.username,\n        password: loginForm.value.password\n      }).then(successResponse => {\n        if (successResponse.data.code === 200) {\n          store.commit('login', loginForm.value);\n          const path = router.currentRoute.value.query.redirect;\n          router.replace({\n            path: path === '/' || path === undefined ? '/index' : path\n          });\n        } else {\n          alert('账号或密码错误！');\n        }\n      }).catch();\n    };\n    return {\n      loginForm,\n      login,\n      sign\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}