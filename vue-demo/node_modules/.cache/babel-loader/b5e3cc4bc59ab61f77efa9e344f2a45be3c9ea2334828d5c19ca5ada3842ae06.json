{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  name: 'EditForm',\n  setup() {\n    const dialogFormVisible = ref(false);\n    const form = ref({\n      id: '',\n      title: '',\n      author: '',\n      date: '',\n      press: '',\n      cover: '',\n      abs: '',\n      category: {\n        id: '',\n        name: ''\n      }\n    });\n    const formLabelWidth = '120px';\n    const clear = () => {\n      form.value = {\n        id: '',\n        title: '',\n        author: '',\n        date: '',\n        press: '',\n        cover: '',\n        abs: '',\n        category: ''\n      };\n    };\n    const onSubmit = () => {\n      axios.post('/books', {\n        id: form.value.id,\n        cover: form.value.cover,\n        title: form.value.title,\n        author: form.value.author,\n        date: form.value.date,\n        press: form.value.press,\n        abs: form.value.abs,\n        category: form.value.category\n      }).then(resp => {\n        if (resp && resp.status === 200) {\n          dialogFormVisible.value = false;\n          // Emit an event to notify the parent component\n          emit('onSubmit');\n        }\n      });\n    };\n    return {\n      dialogFormVisible,\n      form,\n      formLabelWidth,\n      clear,\n      onSubmit\n    };\n  }\n};","map":{"version":3,"names":["ref","name","setup","dialogFormVisible","form","id","title","author","date","press","cover","abs","category","formLabelWidth","clear","value","onSubmit","axios","post","then","resp","status","emit"],"sources":["C:\\Users\\DELL\\Desktop\\网络应用开发课程设计\\vue-demo\\src\\components\\market\\EditForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <i class=\"el-icon-circle-plus-outline\" @click=\"dialogFormVisible = true\"></i>\r\n    <el-dialog title=\"添加/修改图书\" :visible.sync=\"dialogFormVisible\" @close=\"clear\">\r\n      <el-form v-model=\"form\" style=\"text-align: left\" ref=\"dataForm\">\r\n        <el-form-item label=\"书名\" :label-width=\"formLabelWidth\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"不加《》\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\" :label-width=\"formLabelWidth\" prop=\"author\">\r\n          <el-input v-model=\"form.author\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版日期\" :label-width=\"formLabelWidth\" prop=\"date\">\r\n          <el-input v-model=\"form.date\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版社\" :label-width=\"formLabelWidth\" prop=\"press\">\r\n          <el-input v-model=\"form.press\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面\" :label-width=\"formLabelWidth\" prop=\"cover\">\r\n          <el-input v-model=\"form.cover\" autocomplete=\"off\" placeholder=\"图片 URL\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" :label-width=\"formLabelWidth\" prop=\"abs\">\r\n          <el-input type=\"textarea\" v-model=\"form.abs\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类\" :label-width=\"formLabelWidth\" prop=\"cid\">\r\n          <el-select v-model=\"form.category.id\" placeholder=\"请选择分类\">\r\n            <el-option label=\"文学\" value=\"1\"></el-option>\r\n            <el-option label=\"流行\" value=\"2\"></el-option>\r\n            <el-option label=\"文化\" value=\"3\"></el-option>\r\n            <el-option label=\"生活\" value=\"4\"></el-option>\r\n            <el-option label=\"经管\" value=\"5\"></el-option>\r\n            <el-option label=\"科技\" value=\"6\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"id\" style=\"height: 0\">\r\n          <el-input type=\"hidden\" v-model=\"form.id\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n  name: 'EditForm',\r\n  setup() {\r\n    const dialogFormVisible = ref(false);\r\n    const form = ref({\r\n      id: '',\r\n      title: '',\r\n      author: '',\r\n      date: '',\r\n      press: '',\r\n      cover: '',\r\n      abs: '',\r\n      category: {\r\n        id: '',\r\n        name: ''\r\n      }\r\n    });\r\n    const formLabelWidth = '120px';\r\n\r\n    const clear = () => {\r\n      form.value = {\r\n        id: '',\r\n        title: '',\r\n        author: '',\r\n        date: '',\r\n        press: '',\r\n        cover: '',\r\n        abs: '',\r\n        category: ''\r\n      };\r\n    };\r\n\r\n    const onSubmit = () => {\r\n      axios\r\n          .post('/books', {\r\n            id: form.value.id,\r\n            cover: form.value.cover,\r\n            title: form.value.title,\r\n            author: form.value.author,\r\n            date: form.value.date,\r\n            press: form.value.press,\r\n            abs: form.value.abs,\r\n            category: form.value.category\r\n          })\r\n          .then((resp) => {\r\n            if (resp && resp.status === 200) {\r\n              dialogFormVisible.value = false;\r\n              // Emit an event to notify the parent component\r\n              emit('onSubmit');\r\n            }\r\n          });\r\n    };\r\n\r\n    return {\r\n      dialogFormVisible,\r\n      form,\r\n      formLabelWidth,\r\n      clear,\r\n      onSubmit\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-icon-circle-plus-outline {\r\n  margin: 50px 0 0 20px;\r\n  font-size: 100px;\r\n  float: left;\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":"AA8CA,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,iBAAgB,GAAIH,GAAG,CAAC,KAAK,CAAC;IACpC,MAAMI,IAAG,GAAIJ,GAAG,CAAC;MACfK,EAAE,EAAE,EAAE;MACNC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,GAAG,EAAE,EAAE;MACPC,QAAQ,EAAE;QACRP,EAAE,EAAE,EAAE;QACNJ,IAAI,EAAE;MACR;IACF,CAAC,CAAC;IACF,MAAMY,cAAa,GAAI,OAAO;IAE9B,MAAMC,KAAI,GAAIA,CAAA,KAAM;MAClBV,IAAI,CAACW,KAAI,GAAI;QACXV,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,GAAG,EAAE,EAAE;QACPC,QAAQ,EAAE;MACZ,CAAC;IACH,CAAC;IAED,MAAMI,QAAO,GAAIA,CAAA,KAAM;MACrBC,KAAI,CACCC,IAAI,CAAC,QAAQ,EAAE;QACdb,EAAE,EAAED,IAAI,CAACW,KAAK,CAACV,EAAE;QACjBK,KAAK,EAAEN,IAAI,CAACW,KAAK,CAACL,KAAK;QACvBJ,KAAK,EAAEF,IAAI,CAACW,KAAK,CAACT,KAAK;QACvBC,MAAM,EAAEH,IAAI,CAACW,KAAK,CAACR,MAAM;QACzBC,IAAI,EAAEJ,IAAI,CAACW,KAAK,CAACP,IAAI;QACrBC,KAAK,EAAEL,IAAI,CAACW,KAAK,CAACN,KAAK;QACvBE,GAAG,EAAEP,IAAI,CAACW,KAAK,CAACJ,GAAG;QACnBC,QAAQ,EAAER,IAAI,CAACW,KAAK,CAACH;MACvB,CAAC,EACAO,IAAI,CAAEC,IAAI,IAAK;QACd,IAAIA,IAAG,IAAKA,IAAI,CAACC,MAAK,KAAM,GAAG,EAAE;UAC/BlB,iBAAiB,CAACY,KAAI,GAAI,KAAK;UAC/B;UACAO,IAAI,CAAC,UAAU,CAAC;QAClB;MACF,CAAC,CAAC;IACR,CAAC;IAED,OAAO;MACLnB,iBAAiB;MACjBC,IAAI;MACJS,cAAc;MACdC,KAAK;MACLE;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}