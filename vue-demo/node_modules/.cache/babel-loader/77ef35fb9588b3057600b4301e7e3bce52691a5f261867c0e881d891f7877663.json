{"ast":null,"code":"import { onMounted, ref } from 'vue';\nimport { ElButton, ElDialog, ElTable, ElTableColumn } from 'element-plus';\nimport axios from \"axios\";\nexport default {\n  __name: 'Log',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const dialogVisible = ref(false);\n    const data = ref([]);\n    onMounted(() => {\n      fetchlog();\n    });\n    const fetchlog = () => {\n      axios.get('log').then(response => {\n        data.value = response.data;\n        console.log(data);\n      });\n    };\n    const openDialog = () => {\n      dialogVisible.value = true;\n    };\n    const closeDialog = () => {\n      dialogVisible.value = false;\n    };\n    const __returned__ = {\n      dialogVisible,\n      data,\n      fetchlog,\n      openDialog,\n      closeDialog,\n      onMounted,\n      ref,\n      get ElButton() {\n        return ElButton;\n      },\n      get ElDialog() {\n        return ElDialog;\n      },\n      get ElTable() {\n        return ElTable;\n      },\n      get ElTableColumn() {\n        return ElTableColumn;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","ElButton","ElDialog","ElTable","ElTableColumn","axios","dialogVisible","data","fetchlog","get","then","response","value","console","log","openDialog","closeDialog"],"sources":["C:/Users/DELL/Desktop/网络应用开发/网络应用开发课程设计/vue-demo/src/components/market/Log.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-button @click=\"openDialog\" class=\"logbutton\">查看日志</el-button>\r\n    <el-dialog :model-value=\"dialogVisible\" title=\"日志\" @close=\"closeDialog\">\r\n      <el-table :data=\"data\" border :fit=\"true\">\r\n        <el-table-column prop=\"id\" label=\"id\"></el-table-column>\r\n        <el-table-column prop=\"user.username\" label=\"用户名\"></el-table-column>\r\n        <el-table-column prop=\"product.id\" label=\"商品id\"></el-table-column>\r\n        <el-table-column prop=\"productname\" label=\"商品名\"></el-table-column>\r\n        <el-table-column prop=\"price\" label=\"单价\"></el-table-column>\r\n        <el-table-column prop=\"quantity\" label=\"数量\"></el-table-column>\r\n        <el-table-column prop=\"total\" label=\"总价\"></el-table-column>\r\n        <el-table-column prop=\"time\" label=\"时间\"></el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from 'vue';\r\nimport {ElButton, ElDialog, ElTable, ElTableColumn} from 'element-plus';\r\nimport axios from \"axios\";\r\n\r\nconst dialogVisible = ref(false);\r\n\r\nconst data = ref([])\r\n\r\nonMounted(() => {\r\n  fetchlog()\r\n})\r\nconst fetchlog = () => {\r\n  axios.get('log').then(response => {\r\n    data.value = response.data;\r\n    console.log(data)\r\n  })\r\n}\r\n\r\nconst openDialog = () => {\r\n  dialogVisible.value = true;\r\n};\r\n\r\nconst closeDialog = () => {\r\n  dialogVisible.value = false;\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.logbutton {\r\n  position: fixed;\r\n  top: 150px; /* 设置按钮距离顶部的位置 */\r\n  right: 20px; /* 设置按钮距离左侧的位置 */\r\n  z-index: 999; /* 设置按钮的层级，确保按钮在其他元素之上 */\r\n}\r\n</style>"],"mappings":"AAmBA,SAAQA,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,SAAQC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,aAAa,QAAO,cAAc;AACvE,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,aAAa,GAAGN,GAAG,CAAC,KAAK,CAAC;IAEhC,MAAMO,IAAI,GAAGP,GAAG,CAAC,EAAE,CAAC;IAEpBD,SAAS,CAAC,MAAM;MACdS,QAAQ,CAAC,CAAC;IACZ,CAAC,CAAC;IACF,MAAMA,QAAQ,GAAGA,CAAA,KAAM;MACrBH,KAAK,CAACI,GAAG,CAAC,KAAK,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;QAChCJ,IAAI,CAACK,KAAK,GAAGD,QAAQ,CAACJ,IAAI;QAC1BM,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC;MACnB,CAAC,CAAC;IACJ,CAAC;IAED,MAAMQ,UAAU,GAAGA,CAAA,KAAM;MACvBT,aAAa,CAACM,KAAK,GAAG,IAAI;IAC5B,CAAC;IAED,MAAMI,WAAW,GAAGA,CAAA,KAAM;MACxBV,aAAa,CAACM,KAAK,GAAG,KAAK;IAC7B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}