{"ast":null,"code":"import { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport { onMounted, ref } from 'vue';\nimport { ElButton, ElDialog, ElTable, ElTableColumn } from 'element-plus';\nimport axios from \"axios\";\nexport default {\n  __name: 'Record',\n  setup(__props) {\n    const dialogVisible = ref(false);\n    const data = ref([]);\n    onMounted(() => {\n      fetchlog();\n    });\n    const fetchlog = () => {\n      axios.get('record').then(response => {\n        data.value = response.data;\n        console.log(data);\n      });\n    };\n    const openDialog = () => {\n      dialogVisible.value = true;\n    };\n    const closeDialog = () => {\n      dialogVisible.value = false;\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_unref(ElButton), {\n        onClick: openDialog,\n        class: \"recordbutton\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"查看报表\")]),\n        _: 1\n      }), _createVNode(_unref(ElDialog), {\n        \"model-value\": dialogVisible.value,\n        title: \"日志\",\n        onClose: closeDialog\n      }, {\n        default: _withCtx(() => [_createVNode(_unref(ElTable), {\n          data: data.value,\n          border: \"\",\n          fit: true\n        }, {\n          default: _withCtx(() => [_createVNode(_unref(ElTableColumn), {\n            prop: \"id\",\n            label: \"id\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"user.username\",\n            label: \"用户名\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"product.id\",\n            label: \"商品id\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"productname\",\n            label: \"商品名\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"price\",\n            label: \"单价\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"quantity\",\n            label: \"数量\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"total\",\n            label: \"总价\"\n          }), _createVNode(_unref(ElTableColumn), {\n            prop: \"time\",\n            label: \"时间\"\n          })]),\n          _: 1\n        }, 8, [\"data\"])]),\n        _: 1\n      }, 8, [\"model-value\"])]);\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}