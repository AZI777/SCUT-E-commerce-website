{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App';\nimport router from './router';\nimport ElementPlus from 'element-plus';\nimport store from './store';\nimport 'element-plus/dist/index.css';\n\n// 设置反向代理，前端请求默认发送到 http://localhost:8443/api\nimport axios from 'axios';\naxios.defaults.baseURL = 'http://localhost:8443/api';\nconst app = createApp(App);\napp.config.productionTip = false;\n\n// 将axios实例添加到app的全局属性中\napp.config.globalProperties.$axios = axios;\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) {\n    if (store.state.user.username) {\n      next();\n    } else {\n      next({\n        path: 'login',\n        query: {\n          redirect: to.fullPath\n        }\n      });\n    }\n  } else {\n    next();\n  }\n});\napp.use(router);\napp.use(ElementPlus);\napp.use(store);\napp.mount('#app');","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}